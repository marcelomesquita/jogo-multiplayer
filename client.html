<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Jogo</title>

	<style>
		#screen {
			border: 1px solid #cccccc;
			image-rendering: pixelated;
			width: 300px;
			height: 300px;
		}
	</style>
</head>

<body>
	<canvas id="screen" width="30" height="30"></canvas>

	<script type="module">
		import createGame from './js/game.js';
		import renderScreen from './js/render-screen.js';
		import createKeyboardListener from './js/keyboard-listener.js';

		const screen = document.getElementById('screen');
		const game = createGame();
		const keyboardListener = createKeyboardListener(document);

		game.addPlayer({ id: 'Player1', x: 0, y: 0 });
		game.addPlayer({ id: 'Player2', x: 1, y: 0 });
		game.addPlayer({ id: 'Player3', x: 2, y: 0 });
		game.addFruit({ id: 'Fruit1', x: 15, y: 15 });

		keyboardListener.subscribe(game.movePlayer);

		renderScreen(screen, game, requestAnimationFrame);
	</script>
</body>

</html>